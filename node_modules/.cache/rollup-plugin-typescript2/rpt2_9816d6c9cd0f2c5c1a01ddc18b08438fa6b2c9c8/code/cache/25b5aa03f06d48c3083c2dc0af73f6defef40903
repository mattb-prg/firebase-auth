{"code":"/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { __extends } from \"tslib\";\r\nimport { FirebaseError } from '@firebase/util';\r\nvar MultiFactorError = /** @class */ (function (_super) {\r\n    __extends(MultiFactorError, _super);\r\n    function MultiFactorError(auth, error, operationType, user) {\r\n        var _this = this;\r\n        var _a;\r\n        _this = _super.call(this, error.code, error.message) || this;\r\n        _this.operationType = operationType;\r\n        _this.user = user;\r\n        // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\r\n        Object.setPrototypeOf(_this, MultiFactorError.prototype);\r\n        _this.customData = {\r\n            appName: auth.name,\r\n            tenantId: (_a = auth.tenantId) !== null && _a !== void 0 ? _a : undefined,\r\n            _serverResponse: error.customData._serverResponse,\r\n            operationType: operationType\r\n        };\r\n        return _this;\r\n    }\r\n    MultiFactorError._fromErrorAndOperation = function (auth, error, operationType, user) {\r\n        return new MultiFactorError(auth, error, operationType, user);\r\n    };\r\n    return MultiFactorError;\r\n}(FirebaseError));\r\nexport { MultiFactorError };\r\nexport function _processCredentialSavingMfaContextIfNecessary(auth, operationType, credential, user) {\r\n    var idTokenProvider = operationType === \"reauthenticate\" /* OperationType.REAUTHENTICATE */\r\n        ? credential._getReauthenticationResolver(auth)\r\n        : credential._getIdTokenResponse(auth);\r\n    return idTokenProvider.catch(function (error) {\r\n        if (error.code === \"auth/\".concat(\"multi-factor-auth-required\" /* AuthErrorCode.MFA_REQUIRED */)) {\r\n            throw MultiFactorError._fromErrorAndOperation(auth, error, operationType, user);\r\n        }\r\n        throw error;\r\n    });\r\n}\r\n//# sourceMappingURL=mfa_error.js.map","references":["/home/matt/Desktop/Projects/Freelance/Damon Chen/firebase-package/packages/auth/src/model/public_types.ts","/home/matt/Desktop/Projects/Freelance/Damon Chen/firebase-package/packages/util/dist/index.d.ts","/home/matt/Desktop/Projects/Freelance/Damon Chen/firebase-package/packages/auth/src/model/auth.ts","/home/matt/Desktop/Projects/Freelance/Damon Chen/firebase-package/packages/auth/src/model/id_token.ts","/home/matt/Desktop/Projects/Freelance/Damon Chen/firebase-package/packages/auth/src/core/errors.ts","/home/matt/Desktop/Projects/Freelance/Damon Chen/firebase-package/packages/auth/src/model/user.ts","/home/matt/Desktop/Projects/Freelance/Damon Chen/firebase-package/packages/auth/src/core/credentials/index.ts","/home/matt/Desktop/Projects/Freelance/Damon Chen/firebase-package/packages/auth/src/api/authentication/mfa.ts","/home/matt/Desktop/Projects/Freelance/Damon Chen/firebase-package/packages/auth/src/model/enums.ts"],"map":"{\"version\":3,\"file\":\"mfa_error.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/mfa/mfa_error.ts\"],\"names\":[],\"mappings\":\"AAAA;;;;;;;;;;;;;;;GAeG;;AAGH,OAAO,EAAE,aAAa,EAAE,MAAM,gBAAgB,CAAC;AAa/C;IACU,oCAAa;IAKrB,0BACE,IAAkB,EAClB,KAAoB,EACX,aAA4B,EAC5B,IAAmB;QAJ9B,iBAeC;;gBATC,kBAAM,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC;QAHvB,mBAAa,GAAb,aAAa,CAAe;QAC5B,UAAI,GAAJ,IAAI,CAAe;QAG5B,+IAA+I;QAC/I,MAAM,CAAC,cAAc,CAAC,KAAI,EAAE,gBAAgB,CAAC,SAAS,CAAC,CAAC;QACxD,KAAI,CAAC,UAAU,GAAG;YAChB,OAAO,EAAE,IAAI,CAAC,IAAI;YAClB,QAAQ,EAAE,MAAA,IAAI,CAAC,QAAQ,mCAAI,SAAS;YACpC,eAAe,EAAE,KAAK,CAAC,UAAW,CAAC,eAAqC;YACxE,aAAa,eAAA;SACd,CAAC;;IACJ,CAAC;IAEM,uCAAsB,GAA7B,UACE,IAAkB,EAClB,KAAoB,EACpB,aAA4B,EAC5B,IAAmB;QAEnB,OAAO,IAAI,gBAAgB,CAAC,IAAI,EAAE,KAAK,EAAE,aAAa,EAAE,IAAI,CAAC,CAAC;IAChE,CAAC;IACH,uBAAC;AAAD,CAAC,AA/BD,CACU,aAAa,GA8BtB;;AAED,MAAM,UAAU,6CAA6C,CAC3D,IAAkB,EAClB,aAA4B,EAC5B,UAA0B,EAC1B,IAAmB;IAEnB,IAAM,eAAe,GACnB,aAAa,wDAAiC;QAC5C,CAAC,CAAC,UAAU,CAAC,4BAA4B,CAAC,IAAI,CAAC;QAC/C,CAAC,CAAC,UAAU,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;IAE3C,OAAO,eAAe,CAAC,KAAK,CAAC,UAAA,KAAK;QAChC,IAAI,KAAK,CAAC,IAAI,KAAK,6EAAoC,EAAE;YACvD,MAAM,gBAAgB,CAAC,sBAAsB,CAC3C,IAAI,EACJ,KAAK,EACL,aAAa,EACb,IAAI,CACL,CAAC;SACH;QAED,MAAM,KAAK,CAAC;IACd,CAAC,CAAC,CAAC;AACL,CAAC\"}","dts":{"name":"/home/matt/Desktop/Projects/Freelance/Damon Chen/firebase-package/packages/auth/node_modules/.cache/rollup-plugin-typescript2/placeholder/src/mfa/mfa_error.d.ts","writeByteOrderMark":false,"text":"/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { MultiFactorError as MultiFactorErrorPublic } from '../model/public_types';\r\nimport { FirebaseError } from '@firebase/util';\r\nimport { AuthInternal } from '../model/auth';\r\nimport { IdTokenResponse } from '../model/id_token';\r\nimport { UserInternal } from '../model/user';\r\nimport { AuthCredential } from '../core/credentials';\r\nimport { IdTokenMfaResponse } from '../api/authentication/mfa';\r\nimport { OperationType } from '../model/enums';\r\nexport declare type MultiFactorErrorData = MultiFactorErrorPublic['customData'] & {\r\n    _serverResponse: IdTokenMfaResponse;\r\n};\r\nexport declare class MultiFactorError extends FirebaseError implements MultiFactorErrorPublic {\r\n    readonly operationType: OperationType;\r\n    readonly user?: UserInternal | undefined;\r\n    readonly customData: MultiFactorErrorData;\r\n    private constructor();\r\n    static _fromErrorAndOperation(auth: AuthInternal, error: FirebaseError, operationType: OperationType, user?: UserInternal): MultiFactorError;\r\n}\r\nexport declare function _processCredentialSavingMfaContextIfNecessary(auth: AuthInternal, operationType: OperationType, credential: AuthCredential, user?: UserInternal): Promise<IdTokenResponse>;\r\n"}}
